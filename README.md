# Livoro

![圖1：系統架構圖](./images/Livoro_01.png)

# 基於深度攝影機與遊戲引擎的全身性互動復健系統

## Introduction（研究背景與目的）
中風患者與身心障礙者在日常生活中，經常面臨 **動作控制不足、協調性下降以及復健動機低落** 的挑戰。傳統復健方式大多依賴重複性動作，缺乏即時回饋與趣味性，導致患者參與度有限，復健效果也因此受限。  

受到 **Xbox 360 Kinect 互動遊戲** 的啟發，本研究嘗試設計一個結合 **遊戲引擎** 與 **深度攝影機骨架追蹤技術** 的復健互動平台。此系統的核心理念是將復健過程遊戲化，讓患者在娛樂與互動中完成訓練，提升參與度與動機，同時增強身體控制能力。  

研究目的如下：  
1. 建立一個 **基於遊戲引擎的復健平台**，支援全身性互動操作。  
2. 驗證系統能否在 **患者佩戴輔具（如護具、支架）** 的情況下，仍能正確判斷人體運動狀態。  
3. 比較不同 **深度攝影機型號** 的精度與穩定性，並提出最適合復健應用的硬體選擇。  

---

## Methods（研究方法）

### 系統架構
本系統由三大核心組件構成：  
- **遊戲引擎**：選用 **Godot 4.x**，具備開源、跨平台與外部模組整合能力。  
- **骨架追蹤**：採用 Python 開源程式庫（參考 GitHub 開發者專案），進行即時關節點定位與動作分析。  
- **資料串接**：透過 Socket API 將骨架座標傳輸至 Godot，引擎內部將其映射為遊戲角色的動作。  

### 遊戲模組設計
系統設計了多個模組化遊戲場景，每個模組對應不同的認知與動作訓練需求：  
- **快速找找看**：訓練選擇性注意力與反應抑制。  
- **記憶小舖**：訓練工作記憶與順序記憶。  
- **智慧路線**：訓練規劃能力與問題解決。  
- **尋寶探險**：訓練視空間注意力與忽略側補償。  
- **語意小廚房**：訓練語言理解與語意分類。
  
![圖1：系統架構圖](./images/Image_01.jpeg)

每個模組包含：  
- **情境化場景**（如超市、廚房、地圖）。  
- **互動物件**（商品、食材、寶藏）。  
- **回饋機制**（音效、鼓勵訊息、分數）。  
- **難度分級**（由淺入深，逐步增加挑戰）。  

### 深度攝影機比較
為了確保骨架追蹤的精度與穩定性，本研究比較了 Intel RealSense 系列的多款型號：  

| 型號   | 基線距離 | 有效範圍 | RGB/Depth 視場一致性 | 特點 | 適用情境 |
|--------|-----------|-----------|----------------------|------|----------|
| D435i  | 50 mm     | 0.17–10 m | 不完全一致           | 內建 IMU，近距離表現佳 | 手部/臉部精細動作 |
| D455   | 95 mm     | 0.6–6 m   | 一致                 | 遠距離精度高，全局快門 | 全身骨架追蹤 |
| D456   | 95 mm     | 0.6–6 m   | 一致                 | D455 改良版，穩定性更佳 | 室內全身互動研究 |
| D457   | 95 mm     | 0.6–6 m   | 一致                 | 工業版，具 GMSL 串列器、IP 等級 | 戶外/移動平台 |

👉 **採購決策**：本研究選擇 **Intel RealSense D456**，因其在室內全身性互動與穩定性上具最佳平衡。

![圖1：系統架構圖](./images/D456.jpeg)  

---

## Results（目前進度）

### 已完成
- 系統架構設計與遊戲模組規劃。  
- Python 骨架追蹤模組測試（參考 GitHub 開源程式碼:https://github.com/beelleed/mediapipe-pose ）。  
- 深度攝影機規格比較與採購決策。  

### 進行中
- **D456 採購流程**（尚未到貨）。  
- 遊戲引擎與骨架資料串接測試。  

### 尚未完成
- 全身性互動遊戲雛型開發。  
- 輔具使用者測試（檢驗系統能否正確判斷運動狀態）。  

---

## Discussion（討論與未來展望）

### 全身性互動
預期 D456 能提供穩定的全身骨架追蹤，支援多模組遊戲互動，並提升患者的參與度與復健動機。  

### 輔具整合
患者常需佩戴護具或支架，這可能影響骨架偵測。本研究將設計實驗，測試系統在不同輔具條件下的辨識率與準確性。  

### 技術挑戰
- **近距離誤判**：需透過濾波與演算法修正。  
- **遠距離精度**：需調整解析度與光源條件。  
- **資料同步**：確保 Python 與 Godot 之間的低延遲傳輸。  

### 未來應用
- 與復健醫療單位合作，進行小規模臨床試驗。  
- 發表於 **Assistive Technology**、**ACM Transactions on Accessible Computing** 等國際期刊。  
- 延伸應用至 **教育訓練、智慧家庭互動** 等領域。  

---

## Conclusion（結論）
本研究提出一個結合 **遊戲化設計** 與 **深度攝影機骨架追蹤** 的復健互動系統。雖然目前專案仍停留在 **D456 採購階段**，但已完成系統架構設計與技術可行性分析。  

未來將持續推進：  
- **全身性互動測試**。  
- **輔具整合實驗**。  
- **臨床應用驗證**。  

最終目標是建立一個 **可擴充、具娛樂性且臨床相關性高的復健平台**，提升患者的運動能力與復健動機。  

---

## References（參考文獻）

- Intel Corporation. (2021). *Intel RealSense Depth Camera D400 Series Datasheet*. Retrieved from https://www.intelrealsense.com/  
- Lange, B., Koenig, S., Chang, C. Y., McConnell, E., Suma, E., Bolas, M., & Rizzo, A. (2012). Interactive game-based rehabilitation using the Microsoft Kinect. *IEEE Virtual Reality Workshops*, 171–172.  
- World Health Organization. (2011). *World report on disability*. Geneva: WHO Press.  
- Python 追蹤模組測試（參考 GitHub 開源方案程式碼： https: //github.com/beelleed/mediapipe-pose）。
